<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Runs one or more strategy. When more than one strategy is
provided, all strategies should have the same states and
state value names."><title>Run Markov Model — run_model • heemod</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Run Markov Model — run_model"><meta property="og:description" content="Runs one or more strategy. When more than one strategy is
provided, all strategies should have the same states and
state value names."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">heemod</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/a_introduction.html">An Introduction to `heemod`</a>
    <a class="dropdown-item" href="../articles/b_time_dependency.html">Time-varying values</a>
    <a class="dropdown-item" href="../articles/c_homogeneous.html">Simple Markov Models (Homogeneous)</a>
    <a class="dropdown-item" href="../articles/d_non_homogeneous.html">Time-varying Markov Models (Non-Homogeneous)</a>
    <a class="dropdown-item" href="../articles/e_probabilistic.html">Probabilistic Uncertainty Analysis</a>
    <a class="dropdown-item" href="../articles/f_sensitivity.html">Deterministic Sensitivity Analysis</a>
    <a class="dropdown-item" href="../articles/g_heterogeneity.html">Heterogeneity &amp; Demographic Analysis</a>
    <a class="dropdown-item" href="../articles/h_tabular.html">Tabular Input</a>
    <a class="dropdown-item" href="../articles/i_reproduction.html">Reproducing Exact Results from DMHEE</a>
    <a class="dropdown-item" href="../articles/j_survival.html">Survival models</a>
    <a class="dropdown-item" href="../articles/j_survival_2_psa.html">Survival Models Part 2 - PSA</a>
    <a class="dropdown-item" href="../articles/k_calibration.html">Calibrating `heemod` models</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/aphp/heemod/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Run Markov Model</h1>
      <small class="dont-index">Source: <a href="https://github.com/aphp/heemod/blob/HEAD/R/run_model_define.R" class="external-link"><code>R/run_model_define.R</code></a></small>
      <div class="d-none name"><code>run_model.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Runs one or more strategy. When more than one strategy is
provided, all strategies should have the same states and
state value names.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">run_model</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  parameters <span class="op">=</span> <span class="fu"><a href="define_parameters.html">define_parameters</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  init <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1000L</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fu"><a href="get_state_number.html">get_state_number</a></span><span class="op">(</span><span class="fu">get_states</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">-</span> <span class="fl">1</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  cycles <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  method <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"life-table"</span>, <span class="st">"beginning"</span>, <span class="st">"end"</span><span class="op">)</span>,</span>
<span>  cost <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  effect <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  state_time_limit <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  central_strategy <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  inflow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">0L</span>, <span class="fu"><a href="get_state_number.html">get_state_number</a></span><span class="op">(</span><span class="fu">get_states</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">...</span><span class="op">)</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">run_model_</span><span class="op">(</span></span>
<span>  <span class="va">uneval_strategy_list</span>,</span>
<span>  <span class="va">parameters</span>,</span>
<span>  <span class="va">init</span>,</span>
<span>  <span class="va">cycles</span>,</span>
<span>  <span class="va">method</span>,</span>
<span>  <span class="va">cost</span>,</span>
<span>  <span class="va">effect</span>,</span>
<span>  <span class="va">state_time_limit</span>,</span>
<span>  <span class="va">central_strategy</span>,</span>
<span>  <span class="va">inflow</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>...</dt>
<dd><p>One or more <code>uneval_model</code> object.</p></dd>


<dt>parameters</dt>
<dd><p>Optional. An object generated by
<code><a href="define_parameters.html">define_parameters()</a></code>.</p></dd>


<dt>init</dt>
<dd><p>numeric vector or result of <code><a href="define_init.html">define_init()</a></code>,
same length as number of states. Number of individuals
in each state at the beginning.</p></dd>


<dt>cycles</dt>
<dd><p>positive integer. Number of Markov Cycles
to compute.</p></dd>


<dt>method</dt>
<dd><p>Counting method. See details.</p></dd>


<dt>cost</dt>
<dd><p>Names or expression to compute cost on the
cost-effectiveness plane.</p></dd>


<dt>effect</dt>
<dd><p>Names or expression to compute effect on
the cost-effectiveness plane.</p></dd>


<dt>state_time_limit</dt>
<dd><p>Optional expansion limit for
<code>state_time</code>, see details.</p></dd>


<dt>central_strategy</dt>
<dd><p>character. The name of the
strategy at the center of the cost-effectiveness plane,
for readability.</p></dd>


<dt>inflow</dt>
<dd><p>numeric vector or result of
<code><a href="define_inflow.html">define_inflow()</a></code>, similar to <code>init</code>. Number of new
individuals in each state per cycle.</p></dd>


<dt>uneval_strategy_list</dt>
<dd><p>List of models, only used by
<code>run_model_()</code> to avoid using <code>...</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list of evaluated models with computed values.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>In order to compute comparisons strategies must be
similar (same states and state value names). Thus
strategies can only differ through transition matrix cell
values and values attached to states (but not state value
names).</p>
<p>The initial number of individuals in each state and the
number of cycle will be the same for all strategies</p>
<p><code>state_time_limit</code> can be specified in 3 different ways:</p><ol><li><p>As a single value: the limit is applied to all states
in all strategies. 2. As a named vector (where names are
state names): the limits are applied to the given state
names, for all strategies. 3. As a named list of named
vectors: the limits are applied to the given state names
for the given strategies.</p></li>
</ol><p>Counting method represents where the transition should occur,
based on https://journals.sagepub.com/doi/10.1177/0272989X09340585:
"beginning" overestimates costs and "end" underestimates costs.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># running a single model</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod1</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="define_strategy.html">define_strategy</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    transition <span class="op">=</span> <span class="fu"><a href="define_transition.html">define_transition</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fl">.5</span>, <span class="fl">.5</span>,</span></span>
<span class="r-in"><span>      <span class="fl">.1</span>, <span class="fl">.9</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="define_state.html">define_state</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      cost <span class="op">=</span> <span class="fl">543</span>,</span></span>
<span class="r-in"><span>      ly <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="define_state.html">define_state</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      cost <span class="op">=</span> <span class="fl">432</span>,</span></span>
<span class="r-in"><span>      ly <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No named state -&gt; generating names.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No named state -&gt; generating names.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">run_model</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">mod1</span>,</span></span>
<span class="r-in"><span>  init <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cycles <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  cost <span class="op">=</span> <span class="va">cost</span>,</span></span>
<span class="r-in"><span>  effect <span class="op">=</span> <span class="va">ly</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No named model -&gt; generating names.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># running several models</span></span></span>
<span class="r-in"><span><span class="va">mod2</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="define_strategy.html">define_strategy</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    transition <span class="op">=</span> <span class="fu"><a href="define_transition.html">define_transition</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fl">.5</span>, <span class="fl">.5</span>,</span></span>
<span class="r-in"><span>      <span class="fl">.1</span>, <span class="fl">.9</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="define_state.html">define_state</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      cost <span class="op">=</span> <span class="fl">789</span>,</span></span>
<span class="r-in"><span>      ly <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    <span class="fu"><a href="define_state.html">define_state</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      cost <span class="op">=</span> <span class="fl">456</span>,</span></span>
<span class="r-in"><span>      ly <span class="op">=</span> <span class="fl">1</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>    </span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No named state -&gt; generating names.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No named state -&gt; generating names.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">run_model</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">mod1</span>, <span class="va">mod2</span>,</span></span>
<span class="r-in"><span>  init <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  cycles <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>  cost <span class="op">=</span> <span class="va">cost</span>,</span></span>
<span class="r-in"><span>  effect <span class="op">=</span> <span class="va">ly</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> No named model -&gt; generating names.</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Kevin Zarca, Antoine Filipovic-Pierucci.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

